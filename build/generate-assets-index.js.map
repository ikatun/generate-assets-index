{"version":3,"file":"generate-assets-index.js","sourceRoot":"","sources":["../src/generate-assets-index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,2CAA6B;AAC7B,gDAAwB;AACxB,oDAAuB;AACvB,4CAAoB;AAEpB,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACjC,IAAI,CAAC,QAAQ,EAAE;IACb,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;CACtC;AAED,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;AAErG,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;IACvC,MAAM,aAAa,GAAG,gBAAC,CAAC,UAAU,CAAC,gBAAC,CAAC,SAAS,CAAC,cAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACzE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,CAAC;AACrC,CAAC,CAAC,CAAC;AAEH,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,EAAE,EAAE,CAAC,UAAU,aAAa,YAAY,QAAQ,GAAG,CAAC,CAAC;AAEjH,MAAM,OAAO,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;;;IAGlC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;;CAExE,CAAC;AAEF,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrB,YAAE,CAAC,aAAa,CAAC,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,OAAO,EAAE;IACzD,QAAQ,EAAE,MAAM;CACjB,CAAC,CAAC","sourcesContent":["#!/usr/bin/env node\nimport * as glob from 'glob';\nimport path from 'path';\nimport _ from 'lodash';\nimport fs from 'fs';\n\nconst rootPath = process.argv[2];\nif (!rootPath) {\n  throw new Error('Missing root path');\n}\n\nconst files = glob.sync('**/*', { nodir: true, cwd: rootPath }).filter(f => !f.endsWith('index.ts'));\n\nconst importInfos = files.map(filePath => {\n  const componentName = _.upperFirst(_.camelCase(path.basename(filePath)));\n  return { componentName, filePath };\n});\n\nconst imports = importInfos.map(({ filePath, componentName }) => `import ${componentName} from './${filePath}'`);\n\nconst indexTs = `${imports.join(';\\n')};\n\nexport {\n  ${importInfos.map(importInfo => importInfo.componentName).join(',\\n  ')},\n};\n`;\n\nconsole.log(indexTs);\nfs.writeFileSync(path.join(rootPath, 'index.ts'), indexTs, {\n  encoding: 'utf8',\n});\n"]}